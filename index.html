<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Spineless by louisstow</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Spineless</h1>
        <p>Small and simple DOM front-end library.</p>

        <p class="view"><a href="https://github.com/louisstow/Spineless">View the Project on GitHub <small>louisstow/Spineless</small></a></p>


        <ul>
          <li><a href="https://github.com/louisstow/Spineless/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/louisstow/Spineless/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/louisstow/Spineless">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>Spineless</h1>

<p>This project is my ideal front-end JavaScript library (like Backbone or Spine) but with a much looser paradigm.</p>

<h2>Spineless.View</h2>

<p>Every object in Spineless is a <code>View</code>. It contains some data (or a Model) and a DOM template. This template is converted to DOM nodes and appended to a DocumentFragment.</p>

<h3>
<strong>extend</strong> <code>Spineless.View.extend(properties)</code>
</h3>

<p>Create a custom view by providing instance properties.</p>

<p>Setups up the prototype chain so you may can continue subclassing.</p>

<div class="highlight"><pre><span class="kd">var</span> <span class="nx">Button</span> <span class="o">=</span> <span class="nx">Spineless</span><span class="p">.</span><span class="nx">View</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
    <span class="nx">init</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="p">...</span> <span class="p">},</span>
    <span class="nx">onclick</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="p">...</span> <span class="p">}</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">DisabledButton</span> <span class="o">=</span> <span class="nx">Button</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
    <span class="nx">onclick</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></div>

<h3>
<strong>super</strong> <code>Spineless.View.super(context, method, arguments)</code> <em>alias: Constructor</em>
</h3>

<p>Execute a method on the parent class. Pass the instance, the method name
and an array of arguments to apply to the method. A simple
trick is to use the <a href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Functions_and_function_scope/arguments"><code>arguments</code></a> object native to JavaScript functions.</p>

<div class="highlight"><pre><span class="kd">var</span> <span class="nx">Button</span> <span class="o">=</span> <span class="nx">Spineless</span><span class="p">.</span><span class="nx">View</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
    <span class="nx">init</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="c1">//execute `init` on the View class</span>
        <span class="c1">//with the same arguments passed into</span>
        <span class="c1">//this constructor</span>
        <span class="nx">Button</span><span class="p">.</span><span class="kr">super</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="s2">"init"</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></div>

<p>A shortcut is to invoke the constructor as a function. This is an
alias to <code>super</code>.</p>

<div class="highlight"><pre><span class="kd">var</span> <span class="nx">Button</span> <span class="o">=</span> <span class="nx">Spineless</span><span class="p">.</span><span class="nx">View</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
    <span class="nx">init</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="c1">//execute `init` on the View class</span>
        <span class="c1">//with the same arguments passed into</span>
        <span class="c1">//this constructor</span>
        <span class="nx">Button</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="s2">"init"</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></div>

<h3>
<strong>el</strong> <code>view.el</code>
</h3>

<p>Every view has a reference to a DOM element (whether inserted to the page or not). 
When using a JSON template this is a <a href="https://developer.mozilla.org/en-US/docs/DOM/document.createDocumentFragment">DocumentFragment</a>. It can be inserted just like
any other DOM node (such as <a href="https://developer.mozilla.org/en-US/docs/DOM/Node.appendChild"><code>appendChild</code></a>). If the template refers to an existing node,
this will be a reference to that node.</p>

<div class="highlight"><pre><span class="kd">var</span> <span class="nx">button</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Button</span><span class="p">();</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">button</span><span class="p">.</span><span class="nx">el</span><span class="p">);</span>
</pre></div>

<h3>
<strong>template</strong> <code>view.template</code>
</h3>

<p>The heart of Views are templates represented as JSON and converted
to a DOM tree. It accepts an array of objects where the object
represents the node to create.</p>

<div class="highlight"><pre><span class="kd">var</span> <span class="nx">Button</span> <span class="o">=</span> <span class="nx">Spineless</span><span class="p">.</span><span class="nx">View</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
    <span class="nx">template</span><span class="o">:</span> <span class="p">[</span>
        <span class="p">{</span><span class="nx">tag</span><span class="o">:</span> <span class="s2">"a"</span><span class="p">,</span> <span class="nx">className</span><span class="o">:</span> <span class="s2">"button"</span><span class="p">,</span> <span class="nx">children</span><span class="o">:</span> <span class="p">[</span>
            <span class="p">{</span><span class="nx">tag</span><span class="o">:</span> <span class="s2">"img"</span><span class="p">,</span> <span class="nx">id</span><span class="o">:</span> <span class="s2">"icon"</span><span class="p">},</span>
            <span class="p">{</span><span class="nx">tag</span><span class="o">:</span> <span class="s2">"span"</span><span class="p">,</span> <span class="nx">id</span><span class="o">:</span> <span class="s2">"label"</span><span class="p">}</span>
        <span class="p">]}</span>
    <span class="p">]</span>
<span class="p">});</span>
</pre></div>

<p>The following is a list of special properties. Everything else is
treated as attribute on the node.</p>

<ul>
<li>
<strong>tag -</strong> HTML tag to create (e.g. <code>'a'</code>, <code>'span'</code>, <code>'input'</code>). Default <code>div</code>.</li>
<li>
<strong>children -</strong> array of child nodes to create.</li>
<li>
<strong>className -</strong> the class attribute. Generally styling.</li>
<li>
<strong>text -</strong> will set the <a href="https://developer.mozilla.org/en/docs/DOM/Node.textContent"><code>innerText</code></a> of the node to this string value.</li>
<li>
<strong>view -</strong> use a <code>Spineless.View</code> instead of creating a DOM node. Every other property on the object will be passed into the view constructor.</li>
<li>
<strong>id -</strong> will allow the node to be referenced through an instance property.</li>
</ul><p>There may be situations where the template already exists in the HTML page. You
can point the template to the parent node by passing its <code>ID</code> attribute
as a string.</p>

<div class="highlight"><pre><span class="nt">&lt;a</span> <span class="na">id=</span><span class="s">"existingButton"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;img</span> <span class="na">name=</span><span class="s">"icon"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;span</span> <span class="na">name=</span><span class="s">"label"</span><span class="nt">&gt;&lt;/span&gt;</span>
<span class="nt">&lt;/a&gt;</span>
</pre></div>

<div class="highlight"><pre><span class="kd">var</span> <span class="nx">Button</span> <span class="o">=</span> <span class="nx">Spineless</span><span class="p">.</span><span class="nx">View</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
    <span class="nx">template</span><span class="o">:</span> <span class="s2">"existingButton"</span><span class="p">,</span>
    <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">icon</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="s2">"none"</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">label</span><span class="p">.</span><span class="nx">innerText</span> <span class="o">=</span> <span class="s2">"Hello"</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></div>

<p>Any child nodes with an <code>id</code> or <code>name</code> attribute will become instance properties.</p>

<h3>
<strong>events</strong> <code>view.events</code>
</h3>

<p>Shorthand way of assigning instance methods to an event callback 
in the template tree.</p>

<div class="highlight"><pre><span class="kd">var</span> <span class="nx">Button</span> <span class="o">=</span> <span class="nx">Spineless</span><span class="p">.</span><span class="nx">View</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
    <span class="nx">events</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">"click el"</span><span class="o">:</span> <span class="s2">"onclick"</span>
    <span class="p">},</span>

    <span class="nx">onclick</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">evt</span><span class="p">)</span> <span class="p">{</span> <span class="p">...</span> <span class="p">}</span>
<span class="p">});</span>
</pre></div>

<p>The key is a notation to define first the event then the element in the
template by <code>id</code> (seperated by a space). The value is a string representing 
the method name in the class to trigger.</p>

<h3>
<strong>defaults</strong> <code>view.defaults</code>
</h3>

<p>Use this object to define the properties for the <code>model</code> object of a view and
their default values.</p>

<div class="highlight"><pre><span class="kd">var</span> <span class="nx">Button</span> <span class="o">=</span> <span class="nx">Spineless</span><span class="p">.</span><span class="nx">View</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
    <span class="nx">defaults</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">icon</span><span class="o">:</span> <span class="s2">"/images/defaultIcon.png"</span><span class="p">,</span>
        <span class="nx">label</span><span class="o">:</span> <span class="s2">"Button"</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></div>

<h3>
<strong>model</strong> <code>view.model</code>
</h3>

<p>This is the only seperation of concerns in the library. It is how
you access the instance model data. The values will be used to
serialize the view as well as send its data to the server.</p>

<p>If an input node in the template has an <code>id</code> (or <code>name</code>) attribute with 
the same name as a model property, the value will automatically be bound.</p>

<div class="highlight"><pre><span class="kd">var</span> <span class="nx">Login</span> <span class="o">=</span> <span class="nx">Spineless</span><span class="p">.</span><span class="nx">View</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
    <span class="nx">defaults</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">username</span><span class="o">:</span> <span class="s2">""</span><span class="p">,</span>
        <span class="nx">password</span><span class="o">:</span> <span class="s2">""</span>
    <span class="p">},</span>

    <span class="nx">events</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">"click submit"</span><span class="o">:</span> <span class="s2">"onsubmit"</span>
    <span class="p">},</span>

    <span class="nx">template</span><span class="o">:</span> <span class="p">[</span>
        <span class="p">{</span><span class="nx">tag</span><span class="o">:</span> <span class="s2">"input"</span><span class="p">,</span> <span class="nx">id</span><span class="o">:</span> <span class="s2">"username"</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span> <span class="s2">"text"</span><span class="p">},</span>
        <span class="p">{</span><span class="nx">tag</span><span class="o">:</span> <span class="s2">"input"</span><span class="p">,</span> <span class="nx">id</span><span class="o">:</span> <span class="s2">"password"</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span> <span class="s2">"password"</span><span class="p">},</span>
        <span class="p">{</span><span class="nx">tag</span><span class="o">:</span> <span class="s2">"button"</span><span class="p">,</span> <span class="nx">id</span><span class="o">:</span> <span class="s2">"submit"</span><span class="p">,</span> <span class="nx">text</span><span class="o">:</span> <span class="s2">"Go!"</span><span class="p">}</span>
    <span class="p">],</span>

    <span class="nx">onsubmit</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">username</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">password</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></div>

<p><em>Note: An input node is an HTML element typically used in forms. This
includes <code>&lt;input&gt;</code>, <code>&lt;select&gt;</code>, <code>&lt;button&gt;</code>, <code>&lt;textarea&gt;</code>.</em></p>

<h3>
<strong>render</strong> <code>view.render()</code>
</h3>

<p>This method will be executed after the class has been instantiated
and on any <code>Change</code> events. You should put all code to modify the DOM
in this method.</p>

<div class="highlight"><pre><span class="kd">var</span> <span class="nx">UriEncoder</span> <span class="o">=</span> <span class="nx">Spineless</span><span class="p">.</span><span class="nx">View</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
    <span class="nx">defaults</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">input</span><span class="o">:</span> <span class="s2">""</span>
    <span class="p">},</span>

    <span class="nx">template</span><span class="o">:</span> <span class="p">[</span>
        <span class="p">{</span><span class="nx">tag</span><span class="o">:</span> <span class="s2">"input"</span><span class="p">,</span> <span class="nx">id</span><span class="o">:</span> <span class="s2">"input"</span><span class="p">},</span>
        <span class="p">{</span><span class="nx">tag</span><span class="o">:</span> <span class="s2">"span"</span><span class="p">,</span> <span class="nx">id</span><span class="o">:</span> <span class="s2">"result"</span><span class="p">}</span>
    <span class="p">],</span>

    <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">result</span><span class="p">.</span><span class="nx">innerText</span> <span class="o">=</span> <span class="nb">encodeURIComponent</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">input</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></div>

<h2>Spineless.Event</h2>

<p>At the root of every class is <code>Spineless.Event</code>. It manages emitting and
listening to events throughout the instance. The methods here should be very
familiar as the API is the same as <a href="http://documentcloud.github.com/backbone/#Events">Backbone.js</a> and <a href="http://nodejs.org/api/events.html">Node.js</a>.</p>

<h3>
<strong>on</strong> <code>event.on(eventName, callback)</code> <em>alias: bind, subscribe</em>
</h3>

<p>Bind a callback function to an event name. Colons are used
as a convention to namespace event types (e.g. <code>change:textbox</code>). </p>

<p><em>Note: This will only work with one level of namespacing.</em></p>

<p>An asterisk <code>*</code> can be used as a wildcard to listen to all
events in a namespace.</p>

<div class="highlight"><pre><span class="c1">//listen to all change events</span>
<span class="k">this</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"change:*"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="p">...</span> <span class="p">});</span>
<span class="c1">//listen to a specific change event</span>
<span class="k">this</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"change:textbox"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="p">...</span> <span class="p">});</span>
</pre></div>

<p>To bind multiple events to a single callback, specify multiple
event names delimeted by a space.</p>

<div class="highlight"><pre><span class="k">this</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"change:textbox change:checkbox"</span><span class="p">,</span> <span class="p">...</span> <span class="p">);</span>
</pre></div>

<p>An object can instead be passed to map event names to callback functions.</p>

<div class="highlight"><pre><span class="k">this</span><span class="p">.</span><span class="nx">on</span><span class="p">({</span>
    <span class="s2">"change:textbox change:checkbox"</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">update</span><span class="p">,</span>
    <span class="s2">"dom:click"</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">submit</span>
<span class="p">});</span>
</pre></div>

<h3>
<strong>off</strong> <code>event.off(eventName, callback)</code> <em>alias: unbind, unsubscribe</em>
</h3>

<p>Remove a bound callback from an event name. If no callback is specified,
all events with that name will be remove. If neither callback or event name
is specified, every event will be removed.</p>

<div class="highlight"><pre><span class="c1">//remove a specific callback on `change`</span>
<span class="k">this</span><span class="p">.</span><span class="nx">off</span><span class="p">(</span><span class="s2">"change"</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">onChange</span><span class="p">);</span>

<span class="c1">//remove every callback on `change`</span>
<span class="k">this</span><span class="p">.</span><span class="nx">off</span><span class="p">(</span><span class="s2">"change"</span><span class="p">);</span>

<span class="c1">//remove every event handler</span>
<span class="k">this</span><span class="p">.</span><span class="nx">off</span><span class="p">();</span>
</pre></div>

<h3>
<strong>emit</strong> <code>event.emit(eventName[, args*])</code> <em>alias: trigger, publish`</em>
</h3>

<p>Execute callbacks that are bound to this event name. Every subsequent argument
will be passed into the callback function as arguments.</p>

<div class="highlight"><pre><span class="c1">//listen for the `ping` event</span>
<span class="k">this</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"ping"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">message</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s2">"Pong "</span> <span class="o">+</span> <span class="nx">message</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">//trigger the `ping` handler and pass in</span>
<span class="c1">//the string "dong" as an argument.</span>
<span class="k">this</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span><span class="s2">"ping"</span><span class="p">,</span> <span class="s2">"dong"</span><span class="p">);</span>
</pre></div>

<h3>
<strong>once</strong> <code>event.once(eventName, callback)</code>
</h3>

<p>Bind to an event for one use only and then remove the callback.</p>

<h3>Internal Events</h3>

<ul>
<li>
<code>change (key, value)</code> after a bound input node changes its value.</li>
<li>
<code>change:key (value)</code> after a specific input node changes its value.</li>
<li>
<code>prechange (key, value)</code> before a bound input node changes its value.</li>
<li>
<code>prechange:key (value)</code> before a specific input node changes its value.</li>
<li>
<code>dom:event (DOMEvent)</code> when a <a href="https://developer.mozilla.org/en-US/docs/DOM/event">DOM event</a> has been created through <code>events</code> object.</li>
<li>
<code>child:add (child)</code> when a child view has been added to <code>this</code>.</li>
<li>
<code>child:remove (child)</code> when a child view has been removed from <code>this</code>.</li>
<li>
<code>parent:add (parent)</code> when a parent view has been added to <code>this</code>.</li>
<li>
<code>parent:remove (parent)</code> when a parent view has been removed from <code>this</code>.</li>
<li>
<code>invalid (errorString)</code> when <code>validation()</code> returns an error.</li>
<li>
<code>error (errorObject)</code> when an error occurs in <code>sync()</code>.</li>
</ul><h2>Examples</h2>

<p>The following example will create a Button view class.</p>

<div class="highlight"><pre><span class="kd">var</span> <span class="nx">CustomButton</span> <span class="o">=</span> <span class="nx">Spineless</span><span class="p">.</span><span class="nx">View</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
    <span class="c1">//define the default properties for this class</span>
    <span class="c1">//will be accessible through `this.model`.</span>
    <span class="nx">defaults</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">icon</span><span class="o">:</span> <span class="s2">""</span><span class="p">,</span>
        <span class="nx">label</span><span class="o">:</span> <span class="s2">""</span>
    <span class="p">},</span>

    <span class="c1">//define your HTML template in JSON</span>
    <span class="nx">template</span><span class="o">:</span> <span class="p">[</span>
        <span class="p">{</span><span class="nx">tag</span><span class="o">:</span> <span class="s2">"a"</span><span class="p">,</span> <span class="nx">children</span><span class="o">:</span> <span class="p">[</span>
            <span class="c1">//assigning an ID attribute will make the node</span>
            <span class="c1">//accessible within this class</span>
            <span class="p">{</span><span class="nx">tag</span><span class="o">:</span> <span class="s2">"img"</span><span class="p">,</span> <span class="nx">id</span><span class="o">:</span> <span class="s2">"icon"</span><span class="p">},</span>
            <span class="p">{</span><span class="nx">tag</span><span class="o">:</span> <span class="s2">"span"</span><span class="p">,</span> <span class="nx">id</span><span class="o">:</span> <span class="s2">"label"</span><span class="p">}</span>
        <span class="p">]}</span>
    <span class="p">],</span>

    <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="c1">//these refer to the nodes we created in the template above</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">icon</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">icon</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">label</span><span class="p">.</span><span class="nx">innerText</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">label</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">});</span>

<span class="c1">//properties passed into the constructor that are</span>
<span class="c1">//part of the model will automatically be copied</span>
<span class="kd">var</span> <span class="nx">myButton</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CustomButton</span><span class="p">({</span>
    <span class="nx">icon</span><span class="o">:</span> <span class="s2">"/path/to/icon.png"</span><span class="p">,</span>
    <span class="nx">label</span><span class="o">:</span> <span class="s2">"My Button"</span>
<span class="p">});</span>
</pre></div>

<p>The <code>myButton</code> instance won't actually add anything to the
page as all the DOM nodes created are applied to a DocumentFragment. We
must append the fragment to the webpage DOM tree. This is available through
<code>myButton.el</code>.</p>

<div class="highlight"><pre><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"navigation"</span><span class="p">).</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">myButton</span><span class="p">.</span><span class="nx">el</span><span class="p">);</span>
</pre></div>

<h2>Legacy Browser Support</h2>

<p>Spineless makes use of a few modern JavaScript APIs. If you need to support
older browsers you may need to shim these APIs.</p>

<ul>
<li>
<code>JSON.stringify()</code> - Used to serialize a View. Recommended shim: <a href="https://github.com/douglascrockford/JSON-js">json2</a>
</li>
<li>
<code>Function.bind()</code> - This is a quick way to modify the context of a function. Recommended shim: <a href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Function/bind#Compatibility">MDN</a> or <a href="https://github.com/kriskowal/es5-shim">ES5-shim</a>
</li>
</ul>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/louisstow">louisstow</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>